<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>S·∫£n ph·∫©m - Petoria</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="assets/css/responsive.css">
    <link rel="stylesheet" href="assets/css/product-detail.css">
    <link rel="stylesheet" href="assets/css/about.css">
    
    <link rel="stylesheet" href="assets/css/products.css">
    <link rel="stylesheet" href="assets/css/cart.css">
    <link rel="stylesheet" href="assets/css/contact.css">
    <link rel="stylesheet" href="assets/css/services.css">
    
    <link rel="icon" type="image/x-icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üêæ</text></svg>">
</head>
<body>
    <header class="header">
        <div class="container">
            <div class="logo">
                <a href="index.html">
                    <h1><i class="fas fa-paw"></i> Petoria</h1>
                </a>
            </div>
            
            <nav class="main-nav">
                <ul>
                    <li><a href="index.html"><i class="fas fa-home"></i> Trang ch·ªß</a></li>
                    <li><a href="products.html" class="active"><i class="fas fa-shopping-bag"></i> S·∫£n ph·∫©m</a></li>
                    <li><a href="services.html"><i class="fas fa-concierge-bell"></i> D·ªãch v·ª•</a></li>
                    <li><a href="about.html"><i class="fas fa-info-circle"></i> V·ªÅ ch√∫ng t√¥i</a></li>
                    <li><a href="contact.html"><i class="fas fa-address-book"></i> Li√™n h·ªá</a></li>
                </ul>
            </nav>
            
            <div class="header-right">
                <div class="search-box">
                    <input type="text" id="searchInput" placeholder="T√¨m ki·∫øm s·∫£n ph·∫©m...">
                    <button id="searchBtn"><i class="fas fa-search"></i></button>
                </div>
                
                <div class="cart-icon">
                    <a href="cart.html">
                        <i class="fas fa-shopping-cart"></i>
                        <span class="cart-count">0</span>
                    </a>
                </div>
                
                <div class="user-actions">
                    <div class="account-dropdown">
                        <button class="account-btn" id="accountBtn">
                            <i class="fas fa-user"></i>
                            <span id="accountText">T√†i kho·∫£n</span>
                            <i class="fas fa-chevron-down"></i>
                        </button>
                        <div class="dropdown-menu" id="accountDropdown">

                        </div>
                    </div>
                </div>
                
                <button class="mobile-menu-btn">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </div>
        
        <div class="mobile-nav">
            <ul>
                <li><a href="index.html"><i class="fas fa-home"></i> Trang ch·ªß</a></li>
                <li><a href="products.html" class="active"><i class="fas fa-shopping-bag"></i> S·∫£n ph·∫©m</a></li>
                <li><a href="services.html"><i class="fas fa-concierge-bell"></i> D·ªãch v·ª•</a></li>
                <li><a href="about.html"><i class="fas fa-info-circle"></i> V·ªÅ ch√∫ng t√¥i</a></li>
                <li><a href="contact.html"><i class="fas fa-address-book"></i> Li√™n h·ªá</a></li>
                <li><a href="cart.html"><i class="fas fa-shopping-cart"></i> Gi·ªè h√†ng</a></li>
                <li><a href="#" id="mobileLoginBtn"><i class="fas fa-user"></i> ƒêƒÉng nh·∫≠p</a></li>
                <li><a href="#" id="mobileRegisterBtn"><i class="fas fa-user-plus"></i> ƒêƒÉng k√Ω</a></li>
            </ul>
        </div>
    </header>

    <main class="products-page">
        <div class="container">
            <nav class="breadcrumb">
                <a href="index.html">Trang ch·ªß</a>
                <i class="fas fa-chevron-right"></i>
                <span>S·∫£n ph·∫©m</span>
            </nav>

        <div class="page-header"> 
            <h1>S·∫£n ph·∫©m cho th√∫ c∆∞ng</h1>
            <p>T√¨m ki·∫øm s·∫£n ph·∫©m ph√π h·ª£p cho th√∫ c∆∞ng c·ªßa b·∫°n</p>
        </div>
            

            <div class="products-content">

                <aside class="products-sidebar">
                    <div class="filter-section">
                        <div class="filter-header">
                            <h3><i class="fas fa-filter"></i> B·ªô l·ªçc</h3>
                            <button id="collapseAllFilters" class="collapse-btn">Thu g·ªçn t·∫•t c·∫£</button>
                        </div>
                        
                        <div class="filter-group accordion active">
                            <div class="filter-header accordion-header">
                                <h4><i class="fas fa-paw"></i> Lo·∫°i th√∫ c∆∞ng</h4>
                                <i class="fas fa-chevron-down"></i>
                            </div>
                            <div class="filter-options accordion-content">
                                <div class="filter-options-grid">
                                    <label class="filter-chip" data-category="all">
                                        <input type="checkbox" name="category" value="all" checked hidden>
                                        <span>T·∫•t c·∫£</span>
                                    </label>
                                    <label class="filter-chip" data-category="dog">
                                        <input type="checkbox" name="category" value="dog" hidden>
                                        <span><i class="fas fa-dog"></i> Ch√≥</span>
                                    </label>
                                    <label class="filter-chip" data-category="cat">
                                        <input type="checkbox" name="category" value="cat" hidden>
                                        <span><i class="fas fa-cat"></i> M√®o</span>
                                    </label>
                                    <label class="filter-chip" data-category="fish">
                                        <input type="checkbox" name="category" value="fish" hidden>
                                        <span><i class="fas fa-fish"></i> Th·ªßy sinh</span>
                                    </label>
                                    <label class="filter-chip" data-category="bird">
                                        <input type="checkbox" name="category" value="bird" hidden>
                                        <span><i class="fas fa-dove"></i> Chim</span>
                                    </label>
                                    <label class="filter-chip" data-category="smallpet">
                                        <input type="checkbox" name="category" value="smallpet" hidden>
                                        <span><i class="fas fa-otter"></i> Th√∫ nh·ªè</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                        
                        <div class="filter-group accordion active">
                            <div class="filter-header accordion-header">
                                <h4><i class="fas fa-tags"></i> Danh m·ª•c</h4>
                                <i class="fas fa-chevron-down"></i>
                            </div>
                            <div class="filter-options accordion-content">
                                <div class="filter-chips">
                                    <button class="chip active" data-type="all">T·∫•t c·∫£</button>
                                    <button class="chip" data-type="food"><i class="fas fa-utensils"></i> Th·ª©c ƒÉn</button>
                                    <button class="chip" data-type="toy"><i class="fas fa-baseball-ball"></i> ƒê·ªì ch∆°i</button>
                                    <button class="chip" data-type="accessory"><i class="fas fa-tshirt"></i> Ph·ª• ki·ªán</button>
                                    <button class="chip" data-type="health"><i class="fas fa-heartbeat"></i> S·ª©c kh·ªèe</button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="filter-group accordion">
                            <div class="filter-header accordion-header">
                                <h4><i class="fas fa-money-bill-wave"></i> Kho·∫£ng gi√°</h4>
                                <i class="fas fa-chevron-down"></i>
                            </div>
                            <div class="filter-options accordion-content">
                                <div class="price-range">
                                    <div class="price-inputs">
                                        <input type="number" id="minPrice" placeholder="Min" value="0" min="0" max="1000000">
                                        <span>ƒë·∫øn</span>
                                        <input type="number" id="maxPrice" placeholder="Max" value="500000" min="0" max="1000000">
                                    </div>
                                    <div class="price-slider">
                                        <div class="slider-track"></div>
                                        <input type="range" id="priceRangeMin" min="0" max="1000000" value="0" step="10000">
                                        <input type="range" id="priceRangeMax" min="0" max="1000000" value="500000" step="10000">
                                    </div>
                                    <div class="price-display">
                                        <span id="currentMinPrice">0‚Ç´</span>
                                        <span id="currentMaxPrice">500.000‚Ç´</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="filter-group accordion">
                            <div class="filter-header accordion-header">
                                <h4><i class="fas fa-copyright"></i> Th∆∞∆°ng hi·ªáu</h4>
                                <i class="fas fa-chevron-down"></i>
                            </div>
                            <div class="filter-options accordion-content">
                                <div class="brand-filters">
                                    <label class="brand-option">
                                        <input type="checkbox" name="brand" value="royal-canin">
                                        <span class="brand-checkbox"></span>
                                        <span class="brand-name">Royal Canin</span>
                                    </label>
                                    <label class="brand-option">
                                        <input type="checkbox" name="brand" value="whiskas">
                                        <span class="brand-checkbox"></span>
                                        <span class="brand-name">Whiskas</span>
                                    </label>
                                    <label class="brand-option">
                                        <input type="checkbox" name="brand" value="pedigree">
                                        <span class="brand-checkbox"></span>
                                        <span class="brand-name">Pedigree</span>
                                    </label>
                                    <label class="brand-option">
                                        <input type="checkbox" name="brand" value="petstar">
                                        <span class="brand-checkbox"></span>
                                        <span class="brand-name">Petstar</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                        
                        <div class="filter-group accordion">
                            <div class="filter-header accordion-header">
                                <h4><i class="fas fa-star"></i> ƒê√°nh gi√°</h4>
                                <i class="fas fa-chevron-down"></i>
                            </div>
                            <div class="filter-options accordion-content">
                                <div class="rating-filters">
                                    <label class="rating-option">
                                        <input type="radio" name="rating" value="4.5">
                                        <div class="stars">
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star-half-alt"></i>
                                            <span>4.5+ (128)</span>
                                        </div>
                                    </label>
                                    <label class="rating-option">
                                        <input type="radio" name="rating" value="4">
                                        <div class="stars">
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="far fa-star"></i>
                                            <span>4.0+ (95)</span>
                                        </div>
                                    </label>
                                    <label class="rating-option">
                                        <input type="radio" name="rating" value="3.5">
                                        <div class="stars">
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star-half-alt"></i>
                                            <i class="far fa-star"></i>
                                            <span>3.5+ (56)</span>
                                        </div>
                                    </label>
                                </div>
                            </div>
                        </div>
                        
                        <div class="filter-actions sticky">
                            <div class="selected-filters" id="selectedFilters">
                            </div>
                            <div class="action-buttons">
                                <button id="applyFilters" class="btn btn-primary">
                                    <i class="fas fa-check"></i> √Åp d·ª•ng
                                </button>
                                <button id="resetFilters" class="btn btn-outline">
                                    <i class="fas fa-redo"></i> X√≥a h·∫øt
                                </button>
                            </div>
                        </div>
                    </div>
                    

                    <div class="featured-sidebar">
                        <h3><i class="fas fa-fire"></i> B√°n ch·∫°y nh·∫•t</h3>
                        <div class="featured-list" id="sidebarFeatured">
                        </div>
                    </div>
                </aside>
                
                <div class="products-main">
                    <div class="products-header">
                        <div class="products-info">
                            <p id="productsCount">Hi·ªÉn th·ªã <span>0</span> s·∫£n ph·∫©m</p>
                        </div>
                        <div class="products-sort">
                            <label for="sortBy">S·∫Øp x·∫øp theo:</label>
                            <select id="sortBy">
                                <option value="default">M·∫∑c ƒë·ªãnh</option>
                                <option value="price-asc">Gi√°: Th·∫•p ƒë·∫øn cao</option>
                                <option value="price-desc">Gi√°: Cao ƒë·∫øn th·∫•p</option>
                                <option value="name-asc">T√™n: A-Z</option>
                                <option value="name-desc">T√™n: Z-A</option>
                                <option value="newest">M·ªõi nh·∫•t</option>
                                <option value="popular">B√°n ch·∫°y</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="products-grid" id="productsGrid">
                    </div>
                    
                    <div class="pagination">
                        <button class="pagination-btn prev" disabled>
                            <i class="fas fa-chevron-left"></i>
                        </button>
                        <div class="pagination-numbers">
                            <button class="page-btn active">1</button>
                            <button class="page-btn">2</button>
                            <button class="page-btn">3</button>
                            <span>...</span>
                            <button class="page-btn">10</button>
                        </div>
                        <button class="pagination-btn next">
                            <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-col">
                    <h3><i class="fas fa-paw"></i> Petoria</h3>
                    <p>Petoria - Thi√™n ƒë∆∞·ªùng d√†nh cho th√∫ c∆∞ng c·ªßa b·∫°n. Ch√∫ng t√¥i cung c·∫•p c√°c s·∫£n ph·∫©m v√† d·ªãch v·ª• t·ªët nh·∫•t cho th√∫ c∆∞ng.</p>
                    <div class="social-links">
                        <a href="https://www.facebook.com/bdi.edu.vn/?locale=vi_VN"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="https://www.youtube.com/channel/UCy93cniJLuo2cwkbSl7JIJA"><i class="fab fa-youtube"></i></a>
                        <a href="#"><i class="fab fa-tiktok"></i></a>
                    </div>
                </div>
                <div class="footer-col">
                    <h3>Li√™n k·∫øt nhanh</h3>
                    <ul>
                        <li><a href="index.html">Trang ch·ªß</a></li>
                        <li><a href="products.html">S·∫£n ph·∫©m</a></li>
                        <li><a href="services.html">D·ªãch v·ª•</a></li>
                        <li><a href="about.html">V·ªÅ ch√∫ng t√¥i</a></li>
                        <li><a href="contact.html">Li√™n h·ªá</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h3>Ch√≠nh s√°ch</h3>
                    <ul>
                        <li><a href="#">Ch√≠nh s√°ch b·∫£o m·∫≠t</a></li>
                        <li><a href="#">ƒêi·ªÅu kho·∫£n s·ª≠ d·ª•ng</a></li>
                        <li><a href="#">Ch√≠nh s√°ch ƒë·ªïi tr·∫£</a></li>
                        <li><a href="#">Ch√≠nh s√°ch v·∫≠n chuy·ªÉn</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h3>Li√™n h·ªá</h3>
                    <div class="contact-info">
                        <p><i class="fas fa-map-marker-alt"></i> S·ªë 79, ƒë∆∞·ªùng ƒêT 743, ph∆∞·ªùng B√¨nh H√≤a, TP. Thu·∫≠n An, t·ªânh B√¨nh D∆∞∆°ng</p>
                        <p><i class="fas fa-phone"></i> (028) 1234 5678</p>
                        <p><i class="fas fa-envelope"></i> info@petoria.vn</p>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2023 Petoria. T·∫•t c·∫£ c√°c quy·ªÅn ƒë∆∞·ª£c b·∫£o l∆∞u.</p>
                <div class="payment-methods">
                    <i class="fab fa-cc-visa"></i>
                    <i class="fab fa-cc-mastercard"></i>
                    <i class="fab fa-cc-paypal"></i>
                    <i class="fab fa-cc-amex"></i>
                </div>
            </div>
        </div>
    </footer>

    <div id="authModal" class="modal">
    </div>

    <div id="toast" class="toast"></div>

    <script src="assets/js/ma.js"></script>
    <script src="assets/js/auth.js"></script>
    <script src="assets/js/products.js"></script>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof initProductsPage === 'function') {
                initProductsPage();
            }
            
            const urlParams = new URLSearchParams(window.location.search);
            const searchQuery = urlParams.get('search');
            const category = urlParams.get('category');
            
            if (searchQuery) {
                document.getElementById('searchInput').value = searchQuery;
                if (typeof searchProducts === 'function') {
                    searchProducts(searchQuery);
                }
            }
            
            if (category) {
                const categoryCheckbox = document.querySelector(`.filter-chip[data-category="${category}"]`);
                if (categoryCheckbox) {
                    categoryCheckbox.click();
                }
            }
            
            const applyFiltersBtn = document.getElementById('applyFilters');
            if (applyFiltersBtn) {
                applyFiltersBtn.addEventListener('click', applyFilters);
            }
            
            const resetFiltersBtn = document.getElementById('resetFilters');
            if (resetFiltersBtn) {
                resetFiltersBtn.addEventListener('click', resetFilters);
            }
            
            const sortSelect = document.getElementById('sortBy');
            if (sortSelect) {
                sortSelect.addEventListener('change', sortProducts);
            }
            
            initFilters();
        });
        
        function initFilters() {
            document.querySelectorAll('.accordion-header').forEach(header => {
                header.addEventListener('click', () => {
                    const accordion = header.parentElement;
                    accordion.classList.toggle('active');
                });
            });
            
            document.getElementById('collapseAllFilters')?.addEventListener('click', () => {
                document.querySelectorAll('.accordion').forEach(acc => {
                    acc.classList.remove('active');
                });
            });
            
            document.querySelectorAll('.chip').forEach(chip => {
                chip.addEventListener('click', function() {
                    const type = this.dataset.type;
                    document.querySelectorAll('.chip').forEach(c => c.classList.remove('active'));
                    this.classList.add('active');
                    
                    const input = document.querySelector(`input[name="type"][value="${type}"]`);
                    if (input) {
                        document.querySelectorAll('input[name="type"]').forEach(inp => inp.checked = false);
                        input.checked = true;
                    }
                    
                    updateSelectedFiltersDisplay();
                });
            });
            
            document.querySelectorAll('.filter-chip').forEach(chip => {
                chip.addEventListener('click', function() {
                    const category = this.dataset.category;
                    const input = this.querySelector('input');
                    
                    if (category === 'all') {
                        document.querySelectorAll('.filter-chip input').forEach(inp => {
                            inp.checked = false;
                        });
                        input.checked = true;
                    } else {
                        document.querySelector('.filter-chip[data-category="all"] input').checked = false;
                        input.checked = !input.checked;
                    }
                    
                    updateSelectedFiltersDisplay();
                });
            });
            
            const minPriceInput = document.getElementById('minPrice');
            const maxPriceInput = document.getElementById('maxPrice');
            const minSlider = document.getElementById('priceRangeMin');
            const maxSlider = document.getElementById('priceRangeMax');
            const currentMinPrice = document.getElementById('currentMinPrice');
            const currentMaxPrice = document.getElementById('currentMaxPrice');
            
            function updatePriceDisplay() {
                if (currentMinPrice && currentMaxPrice) {
                    currentMinPrice.textContent = formatPrice(parseInt(minSlider.value)) + '‚Ç´';
                    currentMaxPrice.textContent = formatPrice(parseInt(maxSlider.value)) + '‚Ç´';
                }
                if (minPriceInput && maxPriceInput) {
                    minPriceInput.value = minSlider.value;
                    maxPriceInput.value = maxSlider.value;
                }
                updateSelectedFiltersDisplay();
            }
            
            if (minSlider && maxSlider) {
                minSlider.addEventListener('input', function() {
                    if (parseInt(this.value) > parseInt(maxSlider.value)) {
                        maxSlider.value = this.value;
                    }
                    updatePriceDisplay();
                });
                
                maxSlider.addEventListener('input', function() {
                    if (parseInt(this.value) < parseInt(minSlider.value)) {
                        minSlider.value = this.value;
                    }
                    updatePriceDisplay();
                });
            }
            
            if (minPriceInput && maxPriceInput) {
                minPriceInput.addEventListener('change', function() {
                    if (minSlider) {
                        minSlider.value = this.value;
                        updatePriceDisplay();
                    }
                });
                
                maxPriceInput.addEventListener('change', function() {
                    if (maxSlider) {
                        maxSlider.value = this.value;
                        updatePriceDisplay();
                    }
                });
            }
            
            document.querySelectorAll('.brand-option input').forEach(checkbox => {
                checkbox.addEventListener('change', updateSelectedFiltersDisplay);
            });
            
            document.querySelectorAll('.rating-option input').forEach(radio => {
                radio.addEventListener('change', updateSelectedFiltersDisplay);
            });
            
            const mobileFilterToggle = document.createElement('button');
            mobileFilterToggle.className = 'mobile-filter-toggle';
            mobileFilterToggle.innerHTML = '<i class="fas fa-filter"></i>';
            mobileFilterToggle.style.display = 'none';
            document.body.appendChild(mobileFilterToggle);
            
            const filterOverlay = document.createElement('div');
            filterOverlay.className = 'filter-overlay';
            document.body.appendChild(filterOverlay);
            
            if (window.innerWidth <= 992) {
                mobileFilterToggle.style.display = 'flex';
                
                mobileFilterToggle.addEventListener('click', () => {
                    document.querySelector('.products-sidebar').classList.add('active');
                    filterOverlay.classList.add('active');
                });
                
                filterOverlay.addEventListener('click', () => {
                    document.querySelector('.products-sidebar').classList.remove('active');
                    filterOverlay.classList.remove('active');
                });
            }
            
            updateSelectedFiltersDisplay();
        }
        
        function formatPrice(price) {
            return price.toString().replace(/\B(?=(\d{3})+(?!\d))/g, '.');
        }
        
        function applyFilters() {
            const selectedCategories = Array.from(document.querySelectorAll('.filter-chip input:checked')).map(cb => cb.value);
            const selectedType = document.querySelector('.chip.active')?.dataset.type || 'all';
            const minPrice = parseInt(document.getElementById('minPrice')?.value || 0);
            const maxPrice = parseInt(document.getElementById('maxPrice')?.value || 1000000);
            const selectedBrands = Array.from(document.querySelectorAll('input[name="brand"]:checked')).map(cb => cb.value);
            const selectedRating = document.querySelector('input[name="rating"]:checked')?.value;
            
            if (typeof filterProducts === 'function') {
                filterProducts({
                    categories: selectedCategories,
                    types: [selectedType],
                    priceRange: [minPrice, maxPrice],
                    brands: selectedBrands,
                    rating: selectedRating
                });
            }
            
            document.querySelector('.products-sidebar')?.classList.remove('active');
            document.querySelector('.filter-overlay')?.classList.remove('active');
        }
        
        function resetFilters() {
            document.querySelectorAll('.filter-chip input').forEach(inp => inp.checked = false);
            document.querySelector('.filter-chip[data-category="all"] input').checked = true;
            
            document.querySelectorAll('.chip').forEach(c => c.classList.remove('active'));
            document.querySelector('.chip[data-type="all"]').classList.add('active');
            
            const minSlider = document.getElementById('priceRangeMin');
            const maxSlider = document.getElementById('priceRangeMax');
            if (minSlider && maxSlider) {
                minSlider.value = 0;
                maxSlider.value = 500000;
                updatePriceDisplay();
            }
            
            document.querySelectorAll('input[name="brand"]').forEach(cb => cb.checked = false);
            
            document.querySelectorAll('input[name="rating"]').forEach(rb => rb.checked = false);
            
            document.getElementById('sortBy').value = 'default';
            
            updateSelectedFiltersDisplay();
            
            if (typeof loadAllProducts === 'function') {
                loadAllProducts();
            }
        }
        
        function sortProducts() {
            const sortBy = document.getElementById('sortBy').value;
            if (typeof sortProductsList === 'function') {
                sortProductsList(sortBy);
            }
        }
        
        function updateSelectedFiltersDisplay() {
            const container = document.getElementById('selectedFilters');
            if (!container) return;
            
            const selected = [];
            
            const selectedCategories = Array.from(document.querySelectorAll('.filter-chip input:checked'))
                .map(cb => cb.value)
                .filter(v => v !== 'all');
            if (selectedCategories.length > 0) {
                selected.push({
                    label: `Lo·∫°i: ${selectedCategories.map(c => getCategoryName(c)).join(', ')}`,
                    type: 'category'
                });
            }
            
            const selectedType = document.querySelector('.chip.active')?.dataset.type;
            if (selectedType && selectedType !== 'all') {
                selected.push({
                    label: `Danh m·ª•c: ${selectedType === 'food' ? 'Th·ª©c ƒÉn' : 
                            selectedType === 'toy' ? 'ƒê·ªì ch∆°i' : 
                            selectedType === 'accessory' ? 'Ph·ª• ki·ªán' : 'S·ª©c kh·ªèe'}`,
                    type: 'type'
                });
            }
            
            const minPrice = parseInt(document.getElementById('priceRangeMin')?.value || 0);
            const maxPrice = parseInt(document.getElementById('priceRangeMax')?.value || 1000000);
            if (minPrice > 0 || maxPrice < 1000000) {
                selected.push({
                    label: `Gi√°: ${formatPrice(minPrice)}‚Ç´ - ${formatPrice(maxPrice)}‚Ç´`,
                    type: 'price'
                });
            }
            
            const selectedBrands = Array.from(document.querySelectorAll('input[name="brand"]:checked'))
                .map(cb => cb.value);
            if (selectedBrands.length > 0) {
                selected.push({
                    label: `Th∆∞∆°ng hi·ªáu: ${selectedBrands.map(b => 
                        b === 'royal-canin' ? 'Royal Canin' :
                        b === 'whiskas' ? 'Whiskas' :
                        b === 'pedigree' ? 'Pedigree' : 'Petstar'
                    ).join(', ')}`,
                    type: 'brand'
                });
            }
            
            const selectedRating = document.querySelector('input[name="rating"]:checked')?.value;
            if (selectedRating) {
                selected.push({
                    label: `ƒê√°nh gi√°: ${selectedRating}+`,
                    type: 'rating'
                });
            }
            
            if (selected.length === 0) {
                container.innerHTML = '<p class="no-filters" style="color: var(--gray-color); font-size: 0.9rem; text-align: center;">Ch∆∞a c√≥ b·ªô l·ªçc n√†o ƒë∆∞·ª£c ch·ªçn</p>';
            } else {
                container.innerHTML = selected.map(filter => `
                    <div class="selected-filter">
                        ${filter.label}
                        <button class="remove-filter" data-type="${filter.type}">&times;</button>
                    </div>
                `).join('');
                
                document.querySelectorAll('.remove-filter').forEach(btn => {
                    btn.addEventListener('click', function() {
                        const type = this.dataset.type;
                        removeFilter(type);
                    });
                });
            }
        }
        
        function removeFilter(type) {
            switch(type) {
                case 'category':
                    document.querySelector('.filter-chip[data-category="all"]').click();
                    break;
                case 'type':
                    document.querySelector('.chip[data-type="all"]').click();
                    break;
                case 'price':
                    const minSlider = document.getElementById('priceRangeMin');
                    const maxSlider = document.getElementById('priceRangeMax');
                    if (minSlider && maxSlider) {
                        minSlider.value = 0;
                        maxSlider.value = 500000;
                        updatePriceDisplay();
                    }
                    break;
                case 'brand':
                    document.querySelectorAll('input[name="brand"]').forEach(cb => cb.checked = false);
                    break;
                case 'rating':
                    document.querySelectorAll('input[name="rating"]').forEach(rb => rb.checked = false);
                    break;
            }
            updateSelectedFiltersDisplay();
        }
        
        function getCategoryName(category) {
            const categories = {
                'dog': 'Ch√≥',
                'cat': 'M√®o',
                'fish': 'Th·ªßy sinh',
                'bird': 'Chim',
                'smallpet': 'Th√∫ nh·ªè'
            };
            return categories[category] || category;
        }
        
        function updatePriceDisplay() {
            const minSlider = document.getElementById('priceRangeMin');
            const maxSlider = document.getElementById('priceRangeMax');
            const currentMinPrice = document.getElementById('currentMinPrice');
            const currentMaxPrice = document.getElementById('currentMaxPrice');
            const minPriceInput = document.getElementById('minPrice');
            const maxPriceInput = document.getElementById('maxPrice');
            
            if (minSlider && maxSlider && currentMinPrice && currentMaxPrice) {
                currentMinPrice.textContent = formatPrice(parseInt(minSlider.value)) + '‚Ç´';
                currentMaxPrice.textContent = formatPrice(parseInt(maxSlider.value)) + '‚Ç´';
                
                if (minPriceInput && maxPriceInput) {
                    minPriceInput.value = minSlider.value;
                    maxPriceInput.value = maxSlider.value;
                }
            }
        }
        
        function viewProductDetails(productId) {
            window.location.href = `product-detail.html?id=${productId}`;
        }
    </script>
    
    <a href="#" class="back-to-top" id="backToTop">
        <i class="fas fa-chevron-up"></i>
    </a>
</body>
</html>
